<article class="bg-gray-500">
    <div class="w-full md:w-5/6 m-auto bg-white p-5 border-2 border-green-500">
        <section>
            <h2 class="text-center p-3">
                You need a property? Let us get you a deal.
            </h2>
        </section>
        <section>
            <form [formGroup] = "requestForm" (ngSubmit)="request()"><div class="flex">
                <div class="w-1/2">
                    <p>
                        Which type of property do you need?
                    </p>
                    <div>
                        <div *ngFor="let propType of propertyTypes" class="p-1">
                            <p-radioButton (click)="setProperty()" [value]="propType" formControlName="propertyType" [label]="propType">
                            </p-radioButton>
                        </div>
                    </div>
                </div>
                <div class="mt-3 md:mt-0 w-1/2">
                    <p>
                        You need it for:
                    </p>
                    <div>
                        <div *ngFor="let dealType of dealTypes" class="p-1">
                            <p-radioButton [value]="dealType" formControlName="dealType" [label]="dealType">
                            </p-radioButton>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap md:flex-nowrap my-6" *ngIf="propType == 'Land'">
                <div class="w-full md:w-1/2">
                    <p>
                        Land to be used for:
                    </p>
                    <div>
                        <div *ngFor="let propType of purposes" class="p-1">
                            <p-radioButton [value]="propType" formControlName="purpose" [label]="propType">
                            </p-radioButton>
                        </div>
                    </div>
                </div>
                <div class="mt-3 w-full md:w-1/2">
                    <p>
                        How Many plots:
                    </p>
                    <div>
                        <p-inputNumber formControlName="plots" [inputStyle]="{width:'80%'}" [step]=1
                            locale="en-US"></p-inputNumber>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap md:flex-nowrap my-6" *ngIf="propType == 'House'">
                <div class="mt-3 w-full md:w-1/2">
                    <p>
                        Type of house:
                    </p>
                    <div>
                        <p-dropdown class="" [options]="houseTypes" formControlName="houseType" placeholder="Select house type" [showClear]="true">
                        </p-dropdown>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap md:flex-nowrap my-6">
                <div class="mt-3 md:mt-0 w-full">
                    <p>
                        Price Range:
                    </p>
                    <div>
                        <p-slider formControlName="priceRange" [step]="10000" (change)="setProperty" [min]="10000" [max]="10000000000"
                            [range]="true" (onChange) = "rangeChange($event)" ></p-slider>
                        <div class="flex justify-between w-full pt-6">
                            <div class="w-1/2 center">
                                <div>
                                    <p-inputNumber (change)="setProperty()" formControlName="lowestPrice" [inputStyle]="{width:'80%'}" mode="currency"
                                        currency="NGN" locale="en-US"></p-inputNumber>
                                    <span class="block w-full text-center text-gray-700 text-xs">Min. Price</span>
                                </div>
                            </div>
                            <div class="w-1/2 center">
                                <div>
                                    <p-inputNumber formControlName="highestPrice" [inputStyle]="{width:'80%'}" mode="currency" currency="NGN"
                                        locale="en-US"></p-inputNumber>
                                    <span class="block w-full text-center text-gray-700 text-xs">Max. Price</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify-around">
                <div class="flex justify-center bg-white flex-wrap gap-2 p-4 py-10">
                    <p-dropdown class="" (onChange)="getLgas()" [options]="states" placeholder="Select a State" [showClear]="true" formControlName="state">
                    </p-dropdown>
                    <p-dropdown class="" formControlName="lga" [options]="lgas" placeholder="Select LGA" [showClear]="true">
                    </p-dropdown>
                    <!-- <p-dropdown class="" [options]="cities" placeholder="Select a Town" [showClear]="true">
                    </p-dropdown> -->
                    <span class="p-float-label">
                        <input id="float-input" formControlName="town" type="text" pInputText class="w-full mt-4">
                        <label for="float-input">Town or Community</label>
                    </span>
                </div>
            </div>
            <div class="w-full center">
                <span class="p-float-label">
                    <textarea pInputTextarea formControlName="detail"></textarea>
                    <label for="float-input">More details</label>
                </span>
            </div>
            <div class="mt-3 text-center bg-gray-100 p-4">
                <p>
                    <p-checkbox name="groupname" value="1" formControlName="confirm"></p-checkbox>
                    I, confirm that the information I provided above are correct about myself and I give my consent to be called by Solid Agents.
                </p>
            </div>
            <div class="center mt-3">
                <p-button type="submit" label="Submit Request" [disabled] = "!requestForm.valid"></p-button>
            </div>
            </form>
        </section>
    </div>
</article>