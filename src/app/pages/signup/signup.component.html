<div id="main">
    <article class="my-8">
        <div class="register-form-container px-4">
            <h1 class="text-center">Sign Up and Get Privileges!</h1>
            <app-loading *ngIf="submitting && error == false"></app-loading>
            <app-error *ngIf="error" [errMsg]="errorMessage"></app-error>
            <form [formGroup]='myForm' *ngIf="!submitting">
                <img [src]="dpPreviewURL" (click)="imgControl.click()" alt="Click this box to add your profile image"
                    width="100px" height="120px">
                <input hidden type="file" (change)="onSelectDP($event)" #imgControl> <br>
                <mat-form-field apppearance="fill">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName='first_name'>
                    <mat-error *ngIf='first_name!.invalid'>
                        First Name MUST be between 2-25 characters
                    </mat-error>
                </mat-form-field>
                <mat-form-field apppearance="fill">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName='last_name'>
                    <mat-error *ngIf='last_name!.invalid'>
                        Last Name MUST be between 2-25 characters
                    </mat-error>
                </mat-form-field>
                <mat-form-field apppearance="fill">
                    <mat-label>Phone No</mat-label>
                    <input matInput formControlName='tel'>
                    <mat-error *ngIf='tel!.invalid'>
                        Invalid phone number range
                    </mat-error>
                </mat-form-field>
                <mat-form-field apppearance="fill">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName='email'>
                    <mat-error *ngIf='email!.invalid'>
                        The provided email is invalid.
                    </mat-error>
                </mat-form-field>
                <mat-form-field apppearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput type='password' formControlName='password'>
                    <mat-error *ngIf='password!.invalid'>
                        Password MUST be above 8 characters in length.
                    </mat-error>
                </mat-form-field>
            <div class="p-6 center flex-col shadow-md border bg-green-50 border-gray-300 w-full md:w-2/5 m-auto my-8">
                <div *ngIf="notRobot" class="p-2 pr-8 text-white bg-green-700 relative">
                    Not Robot <span class="material-icons absolute right-1">done</span>
                </div>
                <ng-container *ngIf="!notRobot">
                    <p class="w-full">Prove you are not robot.</p>
                    <div class="">
                        <span class="p-4 text-2xl text-green-600">{{randomNum1}}</span>
                        <span class="p-4 text-2xl text-green-600">+</span>
                        <span class="p-4 text-2xl text-green-600">{{randomNum2}}</span>
                        <span class="p-4 text-2xl text-green-600">
                            <input type="text" name="answer" formControlName="answer" placeholder="your answer"
                                class="text-sm w-1/3 p-2 border-2 border-gray-300">
                        </span>
                        <div class="center mt-8">
                            <button class="rounded-xl border-2 border-green-300 p-2" type="button" (click)="checkAnswer()">Verify</button>
                        </div>
                    </div>
                </ng-container>
            </div>
                <mat-divider></mat-divider>
                <div class="text-center">
                    <button mat-raised-button (click)='register()' type="button" [disabled]='myForm.invalid || !notRobot'
                    class="button-submit">
                    Sign Up <mat-icon>send</mat-icon>
                </button>
                </div>
                <mat-divider></mat-divider>
            </form>
        </div><p class="text-center p-4">
            Already have an account? <a routerLink="/login" class="border-b-2 border-green-400"> Sign in here </a>
        </p>
    </article>
    <aside>
        <!-- <app-aside></app-aside> -->
    </aside>
</div>